@page "/device"

@using TerraCloud.Application.DTOs.Device.Responses;

@inherits IndexBase

<RadzenButton Text="Add Device" class="rz-mb-3" Click=@AddDevice />

<RadzenDataGrid AllowColumnResize="true" AllowAlternatingRows="false" FilterMode="FilterMode.Advanced" AllowSorting="true" Data="@devices" TItem="DeviceResponse" 
                ColumnWidth="300px">
    <Columns>
        <RadzenDataGridColumn TItem="DeviceResponse" Property="Id" Title="ID"/>
        <RadzenDataGridColumn TItem="DeviceResponse" Property="UniqueCode" Title="Unique code" />
        <RadzenDataGridColumn TItem="DeviceResponse" Property="Id" Width="60px" Sortable=false>
            <Template Context="device">
                <RadzenButton class="mb-1" Click="@(() => GoToDetails(device.Id))" Icon="pageview" ButtonStyle="ButtonStyle.Secondary" />
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn TItem="DeviceResponse" Property="Id" Width="60px" Sortable=false>
            <Template Context="device">
                <RadzenButton class="mb-1" Click="@(() => Delete(device.Id))" Icon="delete_forever" ButtonStyle="ButtonStyle.Danger"/>
            </Template>
        </RadzenDataGridColumn>
    </Columns>
</RadzenDataGrid>
